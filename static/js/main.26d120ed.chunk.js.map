{"version":3,"sources":["panels/Home.js","panels/Panorama.js","App.js","index.js","img/texture_ft.jpg","img/texture_bk.jpg","img/texture_up.jpg","img/texture_dn.jpg","img/texture_rt.jpg","img/texture_lf.jpg"],"names":["Home","_ref","id","go","fetchedUser","react_default","a","createElement","vkui","title","before","photo_200","src","description","city","concat","first_name","last_name","size","level","onClick","data-to","osname","platform","Panorama","props","mounter","React","createRef","useEffect","scene","THREE","camera","window","innerWidth","innerHeight","position","set","renderer","antialias","setSize","current","appendChild","domElement","controls","OrbitControls","minDistance","maxDistance","materialArray","texture_ft","load","ft","texture_bk","bk","texture_up","up","texture_dn","dn","texture_rt","rt","texture_lf","lf","push","map","i","side","skyboxGeo","skybox","add","animate","render","requestAnimationFrame","left","IOS","chevron_back_default","back_default","style","ref","App","state","activePanel","e","_this","setState","currentTarget","dataset","to","_this2","this","connect","subscribe","detail","type","data","console","log","send","panels_Home","src_panels_Panorama","Component","ReactDOM","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.26d120ed.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, ListItem, Button, Group, Div, Avatar, PanelHeader } from '@vkontakte/vkui';\n\nconst Home = ({ id, go, fetchedUser }) => (\n\t<Panel id={id}>\n\t\t<PanelHeader>Example</PanelHeader>\n\t\t{fetchedUser &&\n\t\t<Group title=\"User Data Fetched with VK Connect\">\n\t\t\t<ListItem\n\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t>\n\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t</ListItem>\n\t\t</Group>}\n\n\t\t<Group title=\"Navigation Example\">\n\t\t\t<Div>\n\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={go} data-to=\"panorama\">\n\t\t\t\t\tShow Panorama, using ThreeJS\n\t\t\t\t</Button>\n\t\t\t</Div>\n\t\t</Group>\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React, { useEffect } from 'react';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport PropTypes from 'prop-types';\nimport {\n  Panel,\n  PanelHeader,\n  HeaderButton,\n  platform,\n  IOS,\n} from '@vkontakte/vkui';\nimport './Panorama.css';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport ft from '../img/texture_ft.jpg';\nimport bk from '../img/texture_bk.jpg';\nimport up from '../img/texture_up.jpg';\nimport dn from '../img/texture_dn.jpg';\nimport rt from '../img/texture_rt.jpg';\nimport lf from '../img/texture_lf.jpg';\n\nconst osname = platform();\n\nconst Panorama = props => {\n  const mounter = React.createRef();\n\n  useEffect(() => {\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(\n      55,\n      window.innerWidth / window.innerHeight,\n      45,\n      30000,\n    );\n    camera.position.set(-900, -200, -900);\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    mounter.current.appendChild(renderer.domElement);\n\n    const controls = new OrbitControls(camera);\n    controls.minDistance = 500;\n    controls.maxDistance = 1500;\n\n    const materialArray = [];\n    const texture_ft = new THREE.TextureLoader().load(ft);\n    const texture_bk = new THREE.TextureLoader().load(bk);\n    const texture_up = new THREE.TextureLoader().load(up);\n    const texture_dn = new THREE.TextureLoader().load(dn);\n    const texture_rt = new THREE.TextureLoader().load(rt);\n    const texture_lf = new THREE.TextureLoader().load(lf);\n\n    materialArray.push(new THREE.MeshBasicMaterial({ map: texture_ft }));\n    materialArray.push(new THREE.MeshBasicMaterial({ map: texture_bk }));\n    materialArray.push(new THREE.MeshBasicMaterial({ map: texture_up }));\n    materialArray.push(new THREE.MeshBasicMaterial({ map: texture_dn }));\n    materialArray.push(new THREE.MeshBasicMaterial({ map: texture_rt }));\n    materialArray.push(new THREE.MeshBasicMaterial({ map: texture_lf }));\n\n    for (let i = 0; i < 6; i++) materialArray[i].side = THREE.BackSide;\n    let skyboxGeo = new THREE.BoxGeometry(10000, 10000, 10000);\n    let skybox = new THREE.Mesh(skyboxGeo, materialArray);\n    scene.add(skybox);\n\n    const animate = () => {\n      renderer.render(scene, camera);\n      requestAnimationFrame(animate);\n    };\n\n    animate();\n  }, []);\n\n  return (\n    <Panel id={props.id}>\n      <PanelHeader\n        left={\n          <HeaderButton onClick={props.go} data-to=\"home\">\n            {osname === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </HeaderButton>\n        }\n      >\n        Skybox Panorama by Emil Persson, aka Humus. http://www.humus.name\n      </PanelHeader>\n      <div style={{ position: 'fixed' }} ref={mounter} />\n    </Panel>\n  );\n};\n\nPanorama.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n};\n\nexport default Panorama;\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Panorama from './panels/Panorama';\n\nclass App extends React.Component {\n  state = {\n    activePanel: 'home',\n    fetchedUser: null,\n  };\n\n  componentDidMount() {\n    connect.subscribe(e => {\n      switch (e.detail.type) {\n        case 'VKWebAppGetUserInfoResult':\n          this.setState({ fetchedUser: e.detail.data });\n          break;\n        default:\n          console.log(e.detail.type);\n      }\n    });\n    connect.send('VKWebAppGetUserInfo', {});\n  }\n\n  go = e => {\n    this.setState({ activePanel: e.currentTarget.dataset.to });\n  };\n\n  render() {\n    return (\n      <View activePanel={this.state.activePanel}>\n        <Home id=\"home\" fetchedUser={this.state.fetchedUser} go={this.go} />\n        <Panorama id=\"panorama\" go={this.go} />\n      </View>\n    );\n  }\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/texture_ft.fbe9f666.jpg\";","module.exports = __webpack_public_path__ + \"static/media/texture_bk.3b22ab81.jpg\";","module.exports = __webpack_public_path__ + \"static/media/texture_up.5fb87e05.jpg\";","module.exports = __webpack_public_path__ + \"static/media/texture_dn.0ef3c1bb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/texture_rt.e7f81319.jpg\";","module.exports = __webpack_public_path__ + \"static/media/texture_lf.f4a15dac.jpg\";"],"sourceRoot":""}